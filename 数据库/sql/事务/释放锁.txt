
https://blog.csdn.net/David_jiahuan/article/details/91558816?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase

释放死锁：
	https://blog.csdn.net/dujianxiong/article/details/90770301
	1. 通过事务表和锁表，确认INNODB_TRX里面是否有正在锁定的事务，通过trx_mysql_thread_id（事务对应的线程ID），
	看看ID是否在show processlist里面的sleep线程中，如果是，就证明这个sleep的线程事务一直没有commit或者rollback而是卡住了，我们需要手动kill掉。
		当前正在运行的所有事务
			mysql> SELECT * FROM information_schema.INNODB_TRX;
			附：
				推荐mysql客户端执行：SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX\G（便于复制出来查看）
				https://blog.csdn.net/zhaoyangjian724/article/details/52858519
				trx_mysql_thread_id:
					事务对应的线程ID
				TRX_STATE: 
					事务执行的状态, 允许的值为 RUNNING, LOCK WAIT, ROLLING BACK, and COMMITTING.
				TRX_STARTED：
					事务开始时间
				TRX_QUERY：事务执行的语句
				TRX_WAIT_STARTED:
					时间 当事务开始等待锁的时间（TRX_STATE is LOCK WAIT时才有，否则为空）
		当前出现的锁
			mysql> SELECT * FROM information_schema.INNODB_LOCKs;
		查看数据库当前的进程
			mysql> show  processlist;
	2. mysql命令杀掉线程：
		kill 线程id  (trx_mysql_thread_id)
附：
	mysql死锁日志：
		通过show engine innodb status 查看最新一次记录死锁的日志。
			https://blog.csdn.net/cojm55771/article/details/100261120
	模拟死锁场景：
		https://blog.csdn.net/DaBingShui/article/details/88953734?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase
		session 1:                                session 2:
		begin;                                    begin;
		delete from t_bitfly  where num = 5 ;
												  delete from t_bitfly where num = 7 ;
		insert into t_bitfly values(7,7) ;
												  insert into t_bitfly values(5,5) ;
	分析案例：
		* https://www.cnblogs.com/yulibostu/articles/9838075.html
		https://my.oschina.net/u/4295888/blog/3340031/print
		https://www.cnblogs.com/lfs2640666960/p/10881390.html
		
		
		要特别注意下InnoDB的行级锁特性：
			./锁机制.txt goto: InnoDB的行级锁特性
		MySql中使用EXPLAIN查看sql的执行计划：
			./数据库/sql/诊断.txt goto:sql语句分析